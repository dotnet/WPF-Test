<Grid xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:sys="clr-namespace:System;assembly=Mscorlib"
    xmlns:Ink="clr-namespace:System.Windows.Ink;assembly=PresentationCore"> 

    <Grid.Resources>

        <x:Array x:Key="MyStrokeCollections" x:Type="sys:String">
            <sys:String>
                AIwDAwRIEEU1BQE4GSAyCQD0/wIB6SI6RTMJAPifAgFaIDpFOAgA/gMAAACAfxEAAIA/HwkRAAAAAAAA8D8KjwE1huYg5i2CgYNEwEbBRsBKwMfCw8DAREhJTE5OSVBLSUtIQCAlZOhn6udpZebmZGPgIuQh5CakAIfmsubXgMHhMHg8HgcGg0UiUokEilkmkUShULhcVjcrl8hlMfk8dksficLhMDhMGh0gkEkmkyn0ilEMhEDioIPHpeGpFyu5u03EiYEIIIRMspuc8evjwApBHYP8qp+VjxnNTiarhPDMXW5uZnhfDhqE+bw+bnzJUirfDh01zwrgjmtbRHBhpG6D9LlHmrzNxMRCCc3ec8+fe4AKOBmD/QSfoN9c4maRWMavUxNt54bAg/zP35ovpWMRWZc7njKFY4RyyISnOQ5MK1RRhBCCdcOXiymACkAbg/yL35Ffjic1cREcp6R4GORHXOfBkIP9Id+kF4x0xwrSM3x4899d73HXGr5AhONmlj3wjNOcSCEYTnfLy4oA
            </sys:String>
            <sys:String>
                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
            </sys:String>
            <sys:String>
                AOUKARAxxyY1ee6ISbk+cNkviQftAlgsSBBEy4CIBFA0RWobAgBZ/0aEARsCACQBRwFkBgADAAAAAABkBgADAAAAAAAqSBBE/+2GBkVqGwIAWf9GhAEbAgAkAUcBZAYAAwAAAAAAZAYAAwAAAAAABQE4GSAyCQD0/wIB6SI6RTMJAPifAgFaIDpFOAgA/gMAAACAfxEAAIA/HwkRAAAAAAAA8D8KcjGG5vbnI4+HjZGAj4CAioaQlJqknqKSnpCUioeFlY+dmaufs5mjm4uJhYKOkpSenJCsmpyehPjxvj0WS1NWTFkpKcYyinFOdU7SxRxIY656474cccseDPfOoIP4Kzh74mbm5EohCKRBDKZSu53nxfFnAApPHoT7LL7KdjwwyxujC2LJiyZNVs2Cy1cNeDeG5aTlwYqWiZCMoJycoJCaikPNyM7Jzs3NysjNysLKwICE42y2HjoxjeqMpwjFCMEY5+LWEQoyEYX02Hpv6sNRhsRdhrLIIqY77YP9Td+pT4+PeXGcqzy4VoCF22FiwONSQI46b8nLFKAKZSuE/AEp+AKXBPBKWLBkyYMUoTx4dOPTj048eOMY4LYM2DBkzW1YMVqAhfSbelJqQVTYCrCWYK6aOW+3D4XH4vI4XH10y1XWYrAXXTSRURoIwIP2O0x5vkomSAiREgJCb5+D4twACnMuhvAm94E2UlDREpFRUdDQEFExsjKzMHNxsvBz8HLxsLAoyOkpSamJaekKCQmoOQhIcIX1DHp/Z5KaYrZaZ64LSKO6WiDARYC7AYiyzCUTSS1z24fB4u/F4W3DgIPxvEivbmoTMiERMFzKZSTEi46+fzkACmowhfg3A+DcW2WOuW+COKKqjAYKzBYLBVVXUw14PD35G/H4PD4G2eCqqzIYDIXYy7CAg/0I36EnjwxHbPZhM5i4nURidXqOEIzxznnnrHOPDeDd7IOvcrrlveZm5tcBSGLpMXMklzfHOfByCmc1hPwkjfhJRthrDDXDDDCuCNqYMGDBm0W2YMGKUqzw5dOHfr379OnTrx1jTJLJs4CD/Rxfo+eTPBh0vkwhK8IUCJETqcXEW4z114O984PHtV4abnN2tcyuYmETUwQiCrSyte+Pk9VACQEKMxKD/SLfpFcbmbglEMceAIbwIoeBEGekJaOlI6DgYWPl5ePi6GHAhOVaPFvGSMUYVvw5gApAGYbkgOSjkIKSko6QkpyglpCIhETH0M3JzdPLz4CD/gPe/gPfjnK7zGZmoqoxHDDWQITtVQ6qMKIRIkZ3w8+MIgp6MIbrpOu/lIGMjJKKmIiQgIiFh5OPiZmPk42Vg6ORkYWLgYCKlJKQmKKWppaclpCEgICLjYX4HdvgdzwU8UkcE8uBpwN9ctMEc0VU1l1mKuwmGuqkggnprpwN9t+JwMODhIPxu0x7sVqohKZiUymZTMJTEwVMTfXz8xIKZSqG8CaXgTdhZONgY+Tg4dDRkdLTE5NTUhJRUFBSMXOxtDMzszLysfJwEDFSUVPAg/4FXP4FZ8XfJjWIxJcTwxrDETcbnLnefBjwY48bg/gpE+f4N3KYymJgxApUwXPHOd+H4dQACmUnhvBTp4KKYCPi4GXhZ2LpYeTiYuChoqQlJiSmpaOnIychopCx8fHzNLFzYIX4C8vgNHwSTARYqzGYLBYCzCVTRxwy1134G3B24Gu2uelBg5JQg49p1td2mc5ExJEEE3N55+fmKApVJYX4IzPgkBnhnkhuhwUWAiqowGAuuw1mEssigrwMuLxuPnyODvxYg/4EUP4ETZxnhz5c+HGJAYZLtxxE9JxUgIOPWmcxN7u5mbiYlUyRKU34ftxcAA==
            </sys:String>
            <sys:String>
                AM0LASAaXjDOCA7jRYzc5Au0UG8hMccmNXnuiEm5PnDZL4kH7QJPIkgQRP/+0wZXCQAAAEXGBBsCAFMARsYEGwIAUwBkAwALAAErSBBEgIGCBFBSRTUbAgCt/0Y1GwIArf9HAWUGAAMAAAAAAGUGAAMAAAAAAAUBOBkgMgkA9P8CAekiOkUzCQD4nwIBWiA6RTgIAP4DAAAAgH8RAACAPx8JEQAAAAAAAPA/CpYGtQKH4OzhO5FHJlGpRFolDoLAYvGY/HZHG5DE43B4GikWkUwlksjkYjUGg8RjsXkMbk8bk8fjMZhKCRCOSKUR6URaNQyDIHDYzFZTF5XI5vG4vE4NBI9Hp1KJVKJJHJBCIVBYvE5LK5nLZ/LY/IYXDYdGpdLJpKpZLpBHohCoPE4jH5PL53M5PHYvE4RFphLpxOKFNpVHopFoBDYzJZTJ5bN6TN5jG4/CYBDplLpxMptJpRIJBDkJhcbkMnlMnmMtm8xjMVgsMiUmmUwlkqlUilEajUUiEVkMtlctns/m85kshisVgUakUsmUyoE4lkeikYhkDicdkMhncxnczmsZisEi0elkuok4nkqlkYj0WgkNjcflchlc5n8pkMbgqDRaWSqZSaXSSORCNQSAwuIyOPxWUymYzGYyWKwmCRiRTCfTaYRyLQ6KQKCxWQxOUy2YyuRw+Do5FJNKpACH5uTmj4zLZPI4nDYrAIDDIhGodHo9HJFHoxEIBD4jF5TMZ7JZLB4nBYBGohHoxEIxJI1Ko9IIggcRjsdl8pksZjsPh8JgUKiEUj0km0qkUmkEUgkVkslk83n8zlMXksRhcIjEijUonE0mUsmUcj0BjcbkMtoNBnszj8dh8HhkejEolUwnk0m0kk0Og8VmM/p9Dpc3lclisBhEYi0klksmk6oE6m0cjEGjchmdFp9Foc1msflcPgUci0uk0wlk2n04m0ylkOiERkszmNFoc9nc3ls9lshh8ej0umVErFYqU6oksmUcichlM1oNBqNLl8hkMViMOjEokU0oFCn1AnEmj0JkclmNLqtNocrksbjcCiEiikkkEsmk8mUsl0ghUJjsxmdJqdHl8vlcjisIhkUi0kmUql1Cn1Gpkcj0Gg8tldNpc9m8pmMniMHiEai0ooVKokwlUUi0Phc3ns1ooIJ8SmCtltlWqkLhsIoW2WxLIli81NLZWyWEQgpVS0CRLipS0ssqZYlEBVaWEwi4aK2KtSXJIDVstiFqJLkMqyq1LsEvEsqBc2r2IJhLFiqps2ISYsC2Le/L9fz2AAkBCv0Ba4bk/uTfj4+RlZePjSEjp6kpqSeipaERcrSzsrTzcjHkpHT05PUkxIRkLDyMvR09PPz8HCwkhLUFZUT0tGQ0BLyM/Q0MzRxMOhoyMnKaUoJSQhICTlZupoaGPi4KKiJqanpaUjIqCjYChIbjRuNxmKKgoJKUjoKJi6Ghq6Wjm5GHg4yKoJ6kpKaanIxHyM/S0drNx8ShpSOqp6ooJKMhoOTlaGnmaWLkYWChIqUlJqcmpSIgEbKzM/RzMfDwMJESE1RTUpCRkDExMrIxcPEkhBwERCiD9bNrnO+KLmkCkiJEzKUTCIKmBKblEoQiEJgm5kERCImIkzMgeP6MpAqHAnSF8VV4qmJdJjKsJZdFHbhcLi8Lj8HXPDHRRdRgLrqqrIoJY8HPia8SplkgkmqmuswVGIqmiU224e2+WeVBFNJNgLsBdhIoI8HXicDg675IY4EEEkM0FlWAswl2AkQ4HA34sIbveO95iIOOR0VAR0Ki5GblZeXl42JgYSGkIyUkpaUlIiKhoSHiZGXmZ2dn5ORgYSMjJSekpqQlJCQioCCi4ujnZ+nmZOThYCIjJaUnJqenpCUQUXHysvL0MbNyMbDwsJBSEZIS0ZHSUhISkhGRELASczLz4IP4a8/M73xu5lKSEIiYqCYTc2kiaRElIBM2tEoUIQgJm7iRERMBCkJiZvfX091I
            </sys:String>
        </x:Array>

        <x:Array x:Key="MyDrawingAttributes" x:Type="{x:Type Ink:DrawingAttributes}">
            <Ink:DrawingAttributes  Color="Thistle" FitToCurve="true" Width="5" Height="5"/>
            <Ink:DrawingAttributes Color="Blue" FitToCurve="false" Width="3" Height="7"/>
        </x:Array>
        
        <x:Array x:Key="MyEditingModes" x:Type="{x:Type InkCanvasEditingMode}">
            <x:Static Member="InkCanvasEditingMode.Ink"/>
            <x:Static Member="InkCanvasEditingMode.Select"/>
            <x:Static Member="InkCanvasEditingMode.EraseByStroke"/>
        </x:Array>
        <DataTemplate DataType="{x:Type Ink:DrawingAttributes}" >
            <Border Width="80" Height="{Binding Path=Height}">
                <Border.Background >
                    <SolidColorBrush Color="{Binding Path=Color}"/>
                </Border.Background>
            </Border>           
        </DataTemplate>
        <DataTemplate DataType="{x:Type InkCanvasEditingMode}" >
            <TextBlock Text="{Binding }"/>
        </DataTemplate>
        <DataTemplate DataType="{x:Type sys:String}" >
            <TextBlock Text="{Binding }" TextTrimming="CharacterEllipsis" />
        </DataTemplate>
        <Style x:Key="StrokeListItem"
               TargetType="{x:Type ListBoxItem}">
            <Setter Property="Width" 
                Value="{Binding RelativeSource={RelativeSource AncestorType={x:Type ListBox}, AncestorLevel=1},Path=ActualWidth}"/>
        </Style>
    </Grid.Resources>


    <InkCanvas Name="inkCanvas"  Background="Yellow"
        DefaultDrawingAttributes="{Binding ElementName=lbDrawingAttributes,Path=SelectedItem}"
        Strokes="{Binding ElementName=lbStrokeCollections,Path=SelectedItem}" />
        
    <DockPanel Width="100" HorizontalAlignment="Right" VerticalAlignment="Top">
        <TextBlock Name="tbCount" DockPanel.Dock="Top" Text="{Binding ElementName=inkCanvas,Path=Strokes.Count}" />
        <ListBox Name="lbEditingMode" 
            SelectedItem="{Binding ElementName=inkCanvas,Path=EditingMode, Mode=TwoWay}"
            DockPanel.Dock="Top" ItemsSource="{StaticResource MyEditingModes}" />
        <ListBox DockPanel.Dock="Top" Name="lbDrawingAttributes"
            ItemsSource="{StaticResource MyDrawingAttributes}" />
        <ListBox Name="lbStrokeCollections"
            ItemContainerStyle="{StaticResource StrokeListItem}"
            ItemsSource="{StaticResource MyStrokeCollections}" />
    </DockPanel>
</Grid>
